const a29_0x125147=a29_0x46f1;(function(_0x357a3d,_0x44f951){const _0x5a6c3e=a29_0x46f1,_0x4960ad=_0x357a3d();while(!![]){try{const _0x5bf6d9=parseInt(_0x5a6c3e(0x13c))/0x1*(parseInt(_0x5a6c3e(0x139))/0x2)+parseInt(_0x5a6c3e(0x140))/0x3+-parseInt(_0x5a6c3e(0x12d))/0x4*(parseInt(_0x5a6c3e(0x147))/0x5)+-parseInt(_0x5a6c3e(0x152))/0x6+parseInt(_0x5a6c3e(0x159))/0x7+-parseInt(_0x5a6c3e(0x13a))/0x8*(-parseInt(_0x5a6c3e(0x157))/0x9)+parseInt(_0x5a6c3e(0x15a))/0xa*(-parseInt(_0x5a6c3e(0x13e))/0xb);if(_0x5bf6d9===_0x44f951)break;else _0x4960ad['push'](_0x4960ad['shift']());}catch(_0x1b9b22){_0x4960ad['push'](_0x4960ad['shift']());}}}(a29_0x3407,0x4f76e));function a29_0x46f1(_0x3e0456,_0x446061){const _0x34078e=a29_0x3407();return a29_0x46f1=function(_0x46f1e8,_0xea26b9){_0x46f1e8=_0x46f1e8-0x12c;let _0x1d003e=_0x34078e[_0x46f1e8];return _0x1d003e;},a29_0x46f1(_0x3e0456,_0x446061);}function a29_0x3407(){const _0x43e23f=['dist_dir','Publishing\x20','skipDist','Building\x20bot\x20','darwin','\x20bot...','adm-zip','linux','896256wzhEzj','../api/BotApi','info','Updating\x20bot\x20','removeTempFiles','9hCiFev','Bot\x20not\x20found!\x20Check\x20your\x20bot\x20ID.','2631041flRnTW','170SzIlLk','Bot\x20name\x20not\x20found\x20in\x20package.json.','\x20published!','version','addLocalFile','../','exports','2316OhFWbW','./BotDistributor','./logger','macos','package.json','name','/\x20--acl\x20public-read-write','...','aws\x20s3\x20cp\x20','\x20already\x20published.','\x20s3://download.youfy.com.br/bots/','get','8daTcVx','3246648aOjRwC','./dist','21478hZbCwP','win','346126bOSBrh','inherit','1466997HGGyrt','Publishing\x20bot\x20','muted','cwd','base_dir','writeZip','warn','2995wSdAMK','win32','Package.json\x20not\x20found.\x20It\x20should\x20be\x20in\x20the\x20root\x20of\x20the\x20project.'];a29_0x3407=function(){return _0x43e23f;};return a29_0x3407();}const {execSync}=require('child_process'),{renameSync}=require('fs'),{resolve,basename}=require('path'),AdmZip=require(a29_0x125147(0x150)),log=require(a29_0x125147(0x12f)),BotDistributor=require(a29_0x125147(0x12e)),getPackage=_0x497841=>{const _0x3a5bb7=a29_0x125147;try{return require(resolve(_0x497841,_0x3a5bb7(0x131)));}catch(_0x1938ee){return console['error'](_0x3a5bb7(0x149)),{};}},publish=(_0x3277c2,_0x28ad57,_0x46fbd8='')=>{const _0x4a183a=a29_0x125147;log['info'](_0x4a183a(0x14b)+_0x28ad57+_0x4a183a(0x14f));const _0x37990c=getPackage(resolve(_0x3277c2,_0x4a183a(0x15f)));if(!_0x37990c[_0x4a183a(0x15d)])return;const _0x479045=basename(_0x37990c[_0x4a183a(0x132)]),_0x127e9f=_0x37990c['id'],_0x37ff29=getPlatformName(_0x28ad57),_0x69a486=_0x479045+'-'+_0x28ad57+_0x46fbd8,_0x437897=_0x127e9f+'_'+_0x37ff29+_0x46fbd8,_0x4a10d2=_0x127e9f+'_'+_0x37ff29+'.zip';renameSync(resolve(_0x3277c2,_0x69a486),resolve(_0x3277c2,_0x437897)),zipFile(resolve(_0x3277c2,_0x437897),resolve(_0x3277c2,_0x4a10d2)),execSync(_0x4a183a(0x135)+_0x4a10d2+_0x4a183a(0x137)+_0x127e9f+_0x4a183a(0x133),{'cwd':_0x3277c2,'stdio':_0x4a183a(0x13f)});},getPlatformName=_0x300c70=>{const _0x1dafbb=a29_0x125147;if(_0x300c70===_0x1dafbb(0x13d))return _0x1dafbb(0x148);if(_0x300c70==='macos')return _0x1dafbb(0x14e);return _0x300c70;},zipFile=(_0x59c230,_0x26d2ec)=>{const _0x390087=a29_0x125147,_0x59b491=new AdmZip();_0x59b491[_0x390087(0x15e)](_0x59c230),_0x59b491[_0x390087(0x145)](_0x26d2ec);};module[a29_0x125147(0x12c)]=async _0x1de9ff=>{const _0x84bc99=a29_0x125147,_0x305b27={'base_dir':process[_0x84bc99(0x143)](),..._0x1de9ff},_0x5dfc56=getPackage(_0x305b27[_0x84bc99(0x144)]),_0xb6625f=require(_0x84bc99(0x153)),_0x28211d=_0x5dfc56['id'],_0x587287=_0x5dfc56[_0x84bc99(0x15d)],_0x37ed80=_0x5dfc56[_0x84bc99(0x132)],_0x3372fe=new BotDistributor(_0x305b27);let _0x44f35c=resolve(_0x305b27['base_dir'],_0x84bc99(0x13b));if(!_0x28211d){log['warn']('Bot\x20ID\x20not\x20found\x20in\x20package.json.');return;}if(!_0x37ed80){log[_0x84bc99(0x146)](_0x84bc99(0x15b));return;}const _0x29a3e3=await _0xb6625f[_0x84bc99(0x138)](_0x28211d);if(!_0x29a3e3){log[_0x84bc99(0x146)](_0x84bc99(0x158));return;}if(_0x29a3e3[_0x84bc99(0x15d)]===_0x587287){log[_0x84bc99(0x146)]('Bot\x20'+_0x28211d+_0x84bc99(0x136));return;}!_0x305b27['skipDist']&&(log[_0x84bc99(0x154)](_0x84bc99(0x14d)+_0x28211d+_0x84bc99(0x134)),_0x3372fe['dist'](),_0x44f35c=_0x3372fe[_0x84bc99(0x14a)]),log[_0x84bc99(0x154)](_0x84bc99(0x141)+_0x28211d+'...'),publish(_0x44f35c,_0x84bc99(0x13d),'.exe'),publish(_0x44f35c,_0x84bc99(0x151)),publish(_0x44f35c,_0x84bc99(0x130)),log[_0x84bc99(0x154)](_0x84bc99(0x155)+_0x28211d+'\x20to\x20version\x20'+_0x587287+'...'),await _0xb6625f['update'](_0x28211d,{'version':_0x587287}),!_0x305b27[_0x84bc99(0x14c)]&&(log[_0x84bc99(0x142)]('Cleaning\x20up\x20bot\x20'+_0x28211d+_0x84bc99(0x134)),_0x3372fe[_0x84bc99(0x156)]()),log['hl_success']('Bot\x20'+_0x28211d+_0x84bc99(0x15c));};